apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default
resources:
# Sourcegraph Main Stacks with Monitoring Stacks
- ../../../base
components:
- ../../../components/sizes/xl
# This configures the main stacks and networking to work on a k3s cluster
- ../../../components/k3s
# Add the k3s/monitoring component when adding the monitoring stack
# This configures Promethesus to work on a k3s cluster
- ../../../components/k3s/monitoring
