- source:
    kind: StatefulSet
    name: gitserver
    fieldPath: spec.replicas
  targets:
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.containers.[args=serve].env.[name=GITSERVER_REPLICA_NUMBER].value
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.initContainers.[args=up].env.[name=GITSERVER_REPLICA_NUMBER].value
- source:
    kind: StatefulSet
    name: searcher
    fieldPath: spec.replicas
  targets:
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.containers.[args=serve].env.[name=SEARCHER_REPLICA_NUMBER].value
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.initContainers.[args=up].env.[name=SEARCHER_REPLICA_NUMBER].value
- source:
    kind: StatefulSet
    name: symbols
    fieldPath: spec.replicas
  targets:
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.containers.[args=serve].env.[name=SYMBOLS_REPLICA_NUMBER].value
    - select:
        kind: Deployment
        name: sourcegraph-frontend
      fieldPaths:
      - spec.template.spec.initContainers.[args=up].env.[name=SYMBOLS_REPLICA_NUMBER].value